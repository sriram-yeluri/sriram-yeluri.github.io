<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="canonical" type="text/html" href="http://localhost:1313/docs/k8s/">
<link rel="alternate" type="application/rss&#43;xml" href="http://localhost:1313/docs/k8s/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Kubernetes | Knowledge Hub</title>
<meta name="description" content="Container Orchestration
">
<meta property="og:url" content="http://localhost:1313/docs/k8s/">
  <meta property="og:site_name" content="Knowledge Hub">
  <meta property="og:title" content="Kubernetes">
  <meta property="og:description" content="Container Orchestration">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="Kubernetes">
  <meta itemprop="description" content="Container Orchestration">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Kubernetes">
  <meta name="twitter:description" content="Container Orchestration">





<link href="/scss/main.css" rel="stylesheet">

<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"></script>

  </head>
  <body class="td-section">
    <header>
      <nav class="td-navbar js-navbar-scroll" data-bs-theme="dark">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="navbar-brand__name">Knowledge Hub</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="/docs/about/"><span>About</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link active" href="/docs/"><span>Documentation</span></a>
      </li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/docs/k8s/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Kubernetes</h1>
<div class="lead">Container Orchestration</div>




    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-81201fc999fabcd09721e35dec5306fa">Architecture</a></li>


    
  
    
    
	
<li>2: <a href="#pg-d70c7e28ce432782d14f1d3012f39889">Deployments</a></li>


    
  
    
    
	
<li>3: <a href="#pg-dc417d85ba318d6b91fc09ef12d46468">Installing Kubernetes</a></li>


    
  
    
    
	
<li>4: <a href="#pg-f29d845ba20c7aaf74772c659d46fb1b">Kind</a></li>


    
  
    
    
	
<li>5: <a href="#pg-c6b65bac4ce988e7a0ac2901b02bf214">kubectl</a></li>


    
  
    
    
	
<li>6: <a href="#pg-48d1b86edcdf99fef9ba8e64ec4c4fd5">Minikube</a></li>


    
  
    
    
	
<li>7: <a href="#pg-111282e399ae4a4e23557131ba2ea1ff">Pod</a></li>


    
  
    
    
	
<li>8: <a href="#pg-2a27e1e775ecc0a1f9bf06b962415eec">Secrets</a></li>


    
  
    
    
	
<li>9: <a href="#pg-9d847c2d2326d448815ff13e28837043">Troubleshooting</a></li>


    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-81201fc999fabcd09721e35dec5306fa">1 - Architecture</h1>
    
	<p>kubernetes cluster components</p>
<p><img alt="arc" src="/images/k8s/k8sArc.png"></p>
<h2 id="master">Master</h2>
<ul>
<li>Masters is responsible for
<ul>
<li>Managing the cluster.</li>
<li>Scheduling the deployments.</li>
<li>Exposing the kubernetes API.</li>
<li>Kubernetes master automatically handles scheduling the pods across the Nodes in the cluster.
<ul>
<li>The Master&rsquo;s automatic scheduling takes into account the available resources on each Node.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="node">Node</h2>
<ul>
<li>A Node is a worker machine in Kubernetes and may be either a virtual or a physical machine, depending on the cluster.</li>
<li>Each Node is managed by the Master.</li>
<li>A Node can have multiple pods.</li>
<li>Nodes are used to host the running applications.</li>
<li>The nodes communicate with the master using the Kubernetes API.</li>
</ul>
<p>Every Kubernetes Node runs at least:</p>
<p><strong>Kubelet</strong>  : process responsible for communication between the Kubernetes Master and the Node; it manages the Pods and the containers running on a machine.</p>
<p>A container runtime (like Docker) responsible for pulling the container image from a registry, unpacking the container, and running the application.</p>
<h2 id="kube-api-server">kube api-server</h2>
<p>todo</p>
<h2 id="kube-scheduler">Kube scheduler</h2>
<p>todo</p>
<h2 id="controller-manager">Controller manager</h2>
<p>The Kubernetes controller manager is a daemon that embeds the core control loops shipped with Kubernetes.</p>
<p>a controller is a control loop that watches the shared state of the cluster through the apiserver and makes changes attempting to move the current state towards the desired state.</p>
<p>Examples of controllers that ship with Kubernetes:</p>
<ul>
<li>node controller.</li>
<li>replication controller</li>
<li>endpoints controller</li>
<li>namespace controller</li>
<li>serviceaccounts controller</li>
</ul>
<h2 id="etcd">etcd</h2>
<p><strong>etcd</strong> is an opensource, distributed key-value database which acts as a single source of truth for all components of the cluster.</p>
<h2 id="daemon-set">Daemon Set</h2>
<p>Daemon set will ensure one copy/instance of pod is present on all the nodes.</p>
<p>UseCases:</p>
<ul>
<li>kube-proxy</li>
<li>Log Viewer</li>
<li>Monitoring Agent</li>
<li>Networking Solution (Weave-net)</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d70c7e28ce432782d14f1d3012f39889">2 - Deployments</h1>
    
	<p>Deployments in Kubernetes</p>
<p>The Deployment instructs Kubernetes how to create and update instances of your application.</p>
<p>The Kubernetes master schedules mentioned application instances onto individual Nodes in the cluster.</p>
<p>Once the application instances are created, a Kubernetes Deployment Controller continuously monitors those instances.</p>
<h2 id="deployment">Deployment</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl create deployment hello-node --image<span style="color:#ce5c00;font-weight:bold">=</span>gcr.io/hello-minikube-zero-install/hello-node
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>deployment.apps/hello-node created
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl get deployments
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>NAME         READY   UP-TO-DATE   AVAILABLE   AGE
</span></span><span style="display:flex;"><span>hello-node   1/1     <span style="color:#0000cf;font-weight:bold">1</span>            <span style="color:#0000cf;font-weight:bold">1</span>           19s
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl get pods
</span></span><span style="display:flex;"><span>NAME                          READY   STATUS    RESTARTS   AGE
</span></span><span style="display:flex;"><span>hello-node-55b49fb9f8-bkmnb   1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          43s
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl get events
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>LAST SEEN   TYPE     REASON                    OBJECT                             MESSAGE
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>94s         Normal   Scheduled                 pod/hello-node-55b49fb9f8-bkmnb    Successfully assigned default/hello-node-55b49fb9f8-bkmnb to minikube
</span></span><span style="display:flex;"><span>92s         Normal   Pulling                   pod/hello-node-55b49fb9f8-bkmnb    Pulling image <span style="color:#4e9a06">&#34;gcr.io/hello-minikube-zero-install/hello-node&#34;</span>
</span></span><span style="display:flex;"><span>91s         Normal   Pulled                    pod/hello-node-55b49fb9f8-bkmnb    Successfully pulled image <span style="color:#4e9a06">&#34;gcr.io/hello-minikube-zero-install/hello-node&#34;</span>
</span></span><span style="display:flex;"><span>90s         Normal   Created                   pod/hello-node-55b49fb9f8-bkmnb    Created container hello-node
</span></span><span style="display:flex;"><span>90s         Normal   Started                   pod/hello-node-55b49fb9f8-bkmnb    Started container hello-node
</span></span><span style="display:flex;"><span>94s         Normal   SuccessfulCreate          replicaset/hello-node-55b49fb9f8   Created pod: hello-node-55b49fb9f8-bkmnb
</span></span><span style="display:flex;"><span>94s         Normal   ScalingReplicaSet         deployment/hello-node              Scaled up replica <span style="color:#204a87">set</span> hello-node-55b49fb9f8 to <span style="color:#0000cf;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>4m34s       Normal   NodeHasSufficientMemory   node/minikube                      Node minikube status is now: NodeHasSufficientMemory
</span></span><span style="display:flex;"><span>4m34s       Normal   NodeHasNoDiskPressure     node/minikube                      Node minikube status is now: NodeHasNoDiskPressure
</span></span><span style="display:flex;"><span>4m34s       Normal   NodeHasSufficientPID      node/minikube                      Node minikube status is now: NodeHasSufficientPID
</span></span><span style="display:flex;"><span>4m11s       Normal   RegisteredNode            node/minikube                      Node minikube event: Registered Node minikube in Controller
</span></span><span style="display:flex;"><span>4m6s        Normal   Starting                  node/minikube                      Starting kube-proxy.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl config view
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>apiVersion: v1
</span></span><span style="display:flex;"><span>clusters:
</span></span><span style="display:flex;"><span>- cluster:
</span></span><span style="display:flex;"><span>    certificate-authority: /root/.minikube/ca.crt
</span></span><span style="display:flex;"><span>    server: https://172.17.0.27:8443
</span></span><span style="display:flex;"><span>  name: minikube
</span></span><span style="display:flex;"><span>contexts:
</span></span><span style="display:flex;"><span>- context:
</span></span><span style="display:flex;"><span>    cluster: minikube
</span></span><span style="display:flex;"><span>    user: minikube
</span></span><span style="display:flex;"><span>  name: minikube
</span></span><span style="display:flex;"><span>current-context: minikube
</span></span><span style="display:flex;"><span>kind: Config
</span></span><span style="display:flex;"><span>preferences: <span style="color:#ce5c00;font-weight:bold">{}</span>
</span></span><span style="display:flex;"><span>users:
</span></span><span style="display:flex;"><span>- name: minikube
</span></span><span style="display:flex;"><span>  user:
</span></span><span style="display:flex;"><span>    client-certificate: /root/.minikube/client.crt
</span></span><span style="display:flex;"><span>    client-key: /root/.minikube/client.key
</span></span></code></pre></div><h2 id="nexus-deployment">Nexus Deployment</h2>
<p><code>kubectl run nexus --image=sonatype/nexus3:3.2.1 --port 8081</code></p>
<p>Expose service:<br>
<code>kubectl expose deployment nexus --type=NodePort</code></p>
<p>Access the service:
<code>Minikube service nexus</code></p>
<h2 id="nginx-deployment">nginx deployment</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># nginx-deployment.yaml</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">apiVersion</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">apps/v1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Deployment</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">metadata</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">nginx-deployment</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">labels</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">app</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">nginx</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">replicas</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">selector</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">matchLabels</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">app</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">nginx</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">template</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">metadata</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">labels</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">app</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">nginx</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">containers</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">nginx</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">image</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">nginx:1.7.9</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">ports</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">containerPort</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">80</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ kubectl apply -f nginx-deployment.yaml
</span></span><span style="display:flex;"><span>deployment.apps/nginx-deployment created
</span></span><span style="display:flex;"><span>$ kubectl get events
</span></span><span style="display:flex;"><span>$ kubectl get pods
</span></span><span style="display:flex;"><span>$ kubectl delete deployment nginx-deployment
</span></span><span style="display:flex;"><span>deployment.extensions <span style="color:#4e9a06">&#34;nginx-deployment&#34;</span> deleted
</span></span></code></pre></div><h2 id="cleanup">Cleanup</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ kubectl get deployments
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>NAME         READY   UP-TO-DATE   AVAILABLE   AGE
</span></span><span style="display:flex;"><span>hello-node   1/1     <span style="color:#0000cf;font-weight:bold">1</span>            <span style="color:#0000cf;font-weight:bold">1</span>           4m16s
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl delete deployment hello-node
</span></span><span style="display:flex;"><span>deployment.extensions <span style="color:#4e9a06">&#34;hello-node&#34;</span> deleted
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl get deployments
</span></span><span style="display:flex;"><span>No resources found.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl get pods
</span></span><span style="display:flex;"><span>No resources found.
</span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-dc417d85ba318d6b91fc09ef12d46468">3 - Installing Kubernetes</h1>
    
	<p><b>[This page is under construction &hellip;]</b></p>
<p>I am going to cover installation of kubernetes in two ways as mentioned below:</p>
<ul>
<li>Install kubernetes with kubeadm</li>
<li>Install kubernetes the hard way</li>
</ul>
<p>Prerequisites to install kubernetes with kubeadm</p>
<ul>
<li>VirtualBox</li>
<li>Centos Image</li>
<li>Virtual Machine with min 2 CPU</li>
</ul>
<h2 id="install-kubelet-kubectl-and-kubeadm">Install kubelet, kubectl and kubeadm</h2>
<p><a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#installing-kubeadm-kubelet-and-kubectl">Installing-kubeadm-kubelet-and-kubectl</a></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># This script is the modified version from k8s documentation</span>
</span></span><span style="display:flex;"><span><span style="color:#000">RELEASE</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;</span><span style="color:#204a87;font-weight:bold">$(</span>curl -sSL https://dl.k8s.io/release/stable.txt<span style="color:#204a87;font-weight:bold">)</span><span style="color:#4e9a06">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mkdir -p /usr/bin
</span></span><span style="display:flex;"><span><span style="color:#204a87">cd</span> /usr/bin
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>curl -L --remote-name-all https://storage.googleapis.com/kubernetes-release/release/<span style="color:#4e9a06">${</span><span style="color:#000">RELEASE</span><span style="color:#4e9a06">}</span>/bin/linux/amd64/<span style="color:#ce5c00;font-weight:bold">{</span>kubeadm,kubelet,kubectl<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>chmod +x <span style="color:#ce5c00;font-weight:bold">{</span>kubeadm,kubelet,kubectl<span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>curl -sSL <span style="color:#4e9a06">&#34;https://raw.githubusercontent.com/kubernetes/kubernetes/</span><span style="color:#4e9a06">${</span><span style="color:#000">RELEASE</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06">/build/debs/kubelet.service&#34;</span> &gt; /etc/systemd/system/kubelet.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mkdir -p /etc/systemd/system/kubelet.service.d
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>curl -sSL <span style="color:#4e9a06">&#34;https://raw.githubusercontent.com/kubernetes/kubernetes/</span><span style="color:#4e9a06">${</span><span style="color:#000">RELEASE</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06">/build/debs/10-kubeadm.conf&#34;</span> &gt; /etc/systemd/system/kubelet.service.d/10-kubeadm.conf
</span></span></code></pre></div><p>At this stage, kubelet service will fail to start as the initialization did not happen and <code>/var/lib/kubelet/config.yaml</code> is not yet created.</p>
<h2 id="kubeadm-init">kubeadm init</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># swapoff -a</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># kubeadm init</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>init<span style="color:#ce5c00;font-weight:bold">]</span> Using Kubernetes version: v1.15.3
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>preflight<span style="color:#ce5c00;font-weight:bold">]</span> Running pre-flight checks
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">[</span>WARNING Firewalld<span style="color:#ce5c00;font-weight:bold">]</span>: firewalld is active, please ensure ports <span style="color:#ce5c00;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">6443</span> 10250<span style="color:#ce5c00;font-weight:bold">]</span> are open or your cluster may not <span style="color:#204a87;font-weight:bold">function</span> correctly
</span></span><span style="display:flex;"><span>	<span style="color:#ce5c00;font-weight:bold">[</span>WARNING Service-Docker<span style="color:#ce5c00;font-weight:bold">]</span>: docker service is not enabled, please run <span style="color:#4e9a06">&#39;systemctl enable docker.service&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>preflight<span style="color:#ce5c00;font-weight:bold">]</span> Pulling images required <span style="color:#204a87;font-weight:bold">for</span> setting up a Kubernetes cluster
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>preflight<span style="color:#ce5c00;font-weight:bold">]</span> This might take a minute or two, depending on the speed of your internet connection
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>preflight<span style="color:#ce5c00;font-weight:bold">]</span> You can also perform this action in beforehand using <span style="color:#4e9a06">&#39;kubeadm config images pull&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>kubelet-start<span style="color:#ce5c00;font-weight:bold">]</span> Writing kubelet environment file with flags to file <span style="color:#4e9a06">&#34;/var/lib/kubelet/kubeadm-flags.env&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>kubelet-start<span style="color:#ce5c00;font-weight:bold">]</span> Writing kubelet configuration to file <span style="color:#4e9a06">&#34;/var/lib/kubelet/config.yaml&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>kubelet-start<span style="color:#ce5c00;font-weight:bold">]</span> Activating the kubelet service
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> Using certificateDir folder <span style="color:#4e9a06">&#34;/etc/kubernetes/pki&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> Generating <span style="color:#4e9a06">&#34;ca&#34;</span> certificate and key
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> Generating <span style="color:#4e9a06">&#34;apiserver-kubelet-client&#34;</span> certificate and key
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> Generating <span style="color:#4e9a06">&#34;apiserver&#34;</span> certificate and key
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> apiserver serving cert is signed <span style="color:#204a87;font-weight:bold">for</span> DNS names <span style="color:#ce5c00;font-weight:bold">[</span>10.0.2.15 kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local<span style="color:#ce5c00;font-weight:bold">]</span> and IPs <span style="color:#ce5c00;font-weight:bold">[</span>10.96.0.1 10.0.2.15<span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> Generating <span style="color:#4e9a06">&#34;etcd/ca&#34;</span> certificate and key
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> Generating <span style="color:#4e9a06">&#34;etcd/server&#34;</span> certificate and key
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> etcd/server serving cert is signed <span style="color:#204a87;font-weight:bold">for</span> DNS names <span style="color:#ce5c00;font-weight:bold">[</span>10.0.2.15 localhost<span style="color:#ce5c00;font-weight:bold">]</span> and IPs <span style="color:#ce5c00;font-weight:bold">[</span>10.0.2.15 127.0.0.1 ::1<span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> Generating <span style="color:#4e9a06">&#34;etcd/healthcheck-client&#34;</span> certificate and key
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> Generating <span style="color:#4e9a06">&#34;apiserver-etcd-client&#34;</span> certificate and key
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> Generating <span style="color:#4e9a06">&#34;etcd/peer&#34;</span> certificate and key
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> etcd/peer serving cert is signed <span style="color:#204a87;font-weight:bold">for</span> DNS names <span style="color:#ce5c00;font-weight:bold">[</span>10.0.2.15 localhost<span style="color:#ce5c00;font-weight:bold">]</span> and IPs <span style="color:#ce5c00;font-weight:bold">[</span>10.0.2.15 127.0.0.1 ::1<span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> Generating <span style="color:#4e9a06">&#34;front-proxy-ca&#34;</span> certificate and key
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> Generating <span style="color:#4e9a06">&#34;front-proxy-client&#34;</span> certificate and key
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>certs<span style="color:#ce5c00;font-weight:bold">]</span> Generating <span style="color:#4e9a06">&#34;sa&#34;</span> key and public key
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>kubeconfig<span style="color:#ce5c00;font-weight:bold">]</span> Using kubeconfig folder <span style="color:#4e9a06">&#34;/etc/kubernetes&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>kubeconfig<span style="color:#ce5c00;font-weight:bold">]</span> Writing <span style="color:#4e9a06">&#34;admin.conf&#34;</span> kubeconfig file
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>kubeconfig<span style="color:#ce5c00;font-weight:bold">]</span> Writing <span style="color:#4e9a06">&#34;kubelet.conf&#34;</span> kubeconfig file
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>kubeconfig<span style="color:#ce5c00;font-weight:bold">]</span> Writing <span style="color:#4e9a06">&#34;controller-manager.conf&#34;</span> kubeconfig file
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>kubeconfig<span style="color:#ce5c00;font-weight:bold">]</span> Writing <span style="color:#4e9a06">&#34;scheduler.conf&#34;</span> kubeconfig file
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>control-plane<span style="color:#ce5c00;font-weight:bold">]</span> Using manifest folder <span style="color:#4e9a06">&#34;/etc/kubernetes/manifests&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>control-plane<span style="color:#ce5c00;font-weight:bold">]</span> Creating static Pod manifest <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#4e9a06">&#34;kube-apiserver&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>control-plane<span style="color:#ce5c00;font-weight:bold">]</span> Creating static Pod manifest <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#4e9a06">&#34;kube-controller-manager&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>control-plane<span style="color:#ce5c00;font-weight:bold">]</span> Creating static Pod manifest <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#4e9a06">&#34;kube-scheduler&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>etcd<span style="color:#ce5c00;font-weight:bold">]</span> Creating static Pod manifest <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#204a87">local</span> etcd in <span style="color:#4e9a06">&#34;/etc/kubernetes/manifests&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>wait-control-plane<span style="color:#ce5c00;font-weight:bold">]</span> Waiting <span style="color:#204a87;font-weight:bold">for</span> the kubelet to boot up the control plane as static Pods from directory <span style="color:#4e9a06">&#34;/etc/kubernetes/manifests&#34;</span>. This can take up to 4m0s
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>apiclient<span style="color:#ce5c00;font-weight:bold">]</span> All control plane components are healthy after 20.014010 seconds
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>upload-config<span style="color:#ce5c00;font-weight:bold">]</span> Storing the configuration used in ConfigMap <span style="color:#4e9a06">&#34;kubeadm-config&#34;</span> in the <span style="color:#4e9a06">&#34;kube-system&#34;</span> Namespace
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>kubelet<span style="color:#ce5c00;font-weight:bold">]</span> Creating a ConfigMap <span style="color:#4e9a06">&#34;kubelet-config-1.15&#34;</span> in namespace kube-system with the configuration <span style="color:#204a87;font-weight:bold">for</span> the kubelets in the cluster
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>upload-certs<span style="color:#ce5c00;font-weight:bold">]</span> Skipping phase. Please see --upload-certs
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>mark-control-plane<span style="color:#ce5c00;font-weight:bold">]</span> Marking the node 10.0.2.15 as control-plane by adding the label <span style="color:#4e9a06">&#34;node-role.kubernetes.io/master=&#39;&#39;&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>mark-control-plane<span style="color:#ce5c00;font-weight:bold">]</span> Marking the node 10.0.2.15 as control-plane by adding the taints <span style="color:#ce5c00;font-weight:bold">[</span>node-role.kubernetes.io/master:NoSchedule<span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>bootstrap-token<span style="color:#ce5c00;font-weight:bold">]</span> Using token: n2e7ii.lp571oh88qidwzdj
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>bootstrap-token<span style="color:#ce5c00;font-weight:bold">]</span> Configuring bootstrap tokens, cluster-info ConfigMap, RBAC Roles
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>bootstrap-token<span style="color:#ce5c00;font-weight:bold">]</span> configured RBAC rules to allow Node Bootstrap tokens to post CSRs in order <span style="color:#204a87;font-weight:bold">for</span> nodes to get long term certificate credentials
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>bootstrap-token<span style="color:#ce5c00;font-weight:bold">]</span> configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>bootstrap-token<span style="color:#ce5c00;font-weight:bold">]</span> configured RBAC rules to allow certificate rotation <span style="color:#204a87;font-weight:bold">for</span> all node client certificates in the cluster
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>bootstrap-token<span style="color:#ce5c00;font-weight:bold">]</span> Creating the <span style="color:#4e9a06">&#34;cluster-info&#34;</span> ConfigMap in the <span style="color:#4e9a06">&#34;kube-public&#34;</span> namespace
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>addons<span style="color:#ce5c00;font-weight:bold">]</span> Applied essential addon: CoreDNS
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>addons<span style="color:#ce5c00;font-weight:bold">]</span> Applied essential addon: kube-proxy
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Your Kubernetes control-plane has initialized successfully!
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>To start using your cluster, you need to run the following as a regular user:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  mkdir -p <span style="color:#000">$HOME</span>/.kube
</span></span><span style="display:flex;"><span>  sudo cp -i /etc/kubernetes/admin.conf <span style="color:#000">$HOME</span>/.kube/config
</span></span><span style="display:flex;"><span>  sudo chown <span style="color:#204a87;font-weight:bold">$(</span>id -u<span style="color:#204a87;font-weight:bold">)</span>:<span style="color:#204a87;font-weight:bold">$(</span>id -g<span style="color:#204a87;font-weight:bold">)</span> <span style="color:#000">$HOME</span>/.kube/config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>You should now deploy a pod network to the cluster.
</span></span><span style="display:flex;"><span>Run <span style="color:#4e9a06">&#34;kubectl apply -f [podnetwork].yaml&#34;</span> with one of the options listed at:
</span></span><span style="display:flex;"><span>  https://kubernetes.io/docs/concepts/cluster-administration/addons/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Then you can join any number of worker nodes by running the following on each as root:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>kubeadm join 10.0.2.15:6443 --token n2e7ii.lp571oh88qidwzdj <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>    --discovery-token-ca-cert-hash sha256:0957baa4cdea8fda244c159cf2a038a2afe2c0b20fb922014472c5c7918dac81
</span></span></code></pre></div><h2 id="kubelet-service">kubelet service</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># service kubelet status</span>
</span></span><span style="display:flex;"><span>Redirecting to /bin/systemctl status kubelet.service
</span></span><span style="display:flex;"><span>● kubelet.service - kubelet: The Kubernetes Node Agent
</span></span><span style="display:flex;"><span>   Loaded: loaded <span style="color:#ce5c00;font-weight:bold">(</span>/etc/systemd/system/kubelet.service<span style="color:#000;font-weight:bold">;</span> enabled<span style="color:#000;font-weight:bold">;</span> vendor preset: disabled<span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>  Drop-In: /etc/systemd/system/kubelet.service.d
</span></span><span style="display:flex;"><span>           └─10-kubeadm.conf
</span></span><span style="display:flex;"><span>   Active: active <span style="color:#ce5c00;font-weight:bold">(</span>running<span style="color:#ce5c00;font-weight:bold">)</span> since zo 2019-09-01 21:04:42 CEST<span style="color:#000;font-weight:bold">;</span> 1min 9s ago
</span></span><span style="display:flex;"><span>     Docs: http://kubernetes.io/docs/
</span></span><span style="display:flex;"><span> Main PID: <span style="color:#0000cf;font-weight:bold">4682</span> <span style="color:#ce5c00;font-weight:bold">(</span>kubelet<span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>   CGroup: /system.slice/kubelet.service
</span></span><span style="display:flex;"><span>           └─4682 /usr/bin/kubelet --bootstrap-kubeconfig<span style="color:#ce5c00;font-weight:bold">=</span>/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig<span style="color:#ce5c00;font-weight:bold">=</span>/etc/kubernetes/kubelet.conf --c...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sep <span style="color:#0000cf;font-weight:bold">01</span> 21:05:35 10.0.2.15 kubelet<span style="color:#ce5c00;font-weight:bold">[</span>4682<span style="color:#ce5c00;font-weight:bold">]</span>: E0901 21:05:35.780354    <span style="color:#0000cf;font-weight:bold">4682</span> summary_sys_containers.go:47<span style="color:#ce5c00;font-weight:bold">]</span> Failed to get system container stats <span style="color:#204a87;font-weight:bold">for</span> ...
</span></span><span style="display:flex;"><span>sep <span style="color:#0000cf;font-weight:bold">01</span> 21:05:35 10.0.2.15 kubelet<span style="color:#ce5c00;font-weight:bold">[</span>4682<span style="color:#ce5c00;font-weight:bold">]</span>: E0901 21:05:35.780463    <span style="color:#0000cf;font-weight:bold">4682</span> summary_sys_containers.go:47<span style="color:#ce5c00;font-weight:bold">]</span> Failed to get system container stats <span style="color:#204a87;font-weight:bold">for</span> ...
</span></span><span style="display:flex;"><span>sep <span style="color:#0000cf;font-weight:bold">01</span> 21:05:37 10.0.2.15 kubelet<span style="color:#ce5c00;font-weight:bold">[</span>4682<span style="color:#ce5c00;font-weight:bold">]</span>: W0901 21:05:37.277274    <span style="color:#0000cf;font-weight:bold">4682</span> cni.go:213<span style="color:#ce5c00;font-weight:bold">]</span> Unable to update cni config: No networks found in /...ni/net.d
</span></span><span style="display:flex;"><span>sep <span style="color:#0000cf;font-weight:bold">01</span> 21:05:40 10.0.2.15 kubelet<span style="color:#ce5c00;font-weight:bold">[</span>4682<span style="color:#ce5c00;font-weight:bold">]</span>: E0901 21:05:40.725221    <span style="color:#0000cf;font-weight:bold">4682</span> kubelet.go:2169<span style="color:#ce5c00;font-weight:bold">]</span> Container runtime network not ready: NetworkRe...tialized
</span></span><span style="display:flex;"><span>sep <span style="color:#0000cf;font-weight:bold">01</span> 21:05:42 10.0.2.15 kubelet<span style="color:#ce5c00;font-weight:bold">[</span>4682<span style="color:#ce5c00;font-weight:bold">]</span>: W0901 21:05:42.277894    <span style="color:#0000cf;font-weight:bold">4682</span> cni.go:213<span style="color:#ce5c00;font-weight:bold">]</span> Unable to update cni config: No networks found in /...ni/net.d
</span></span><span style="display:flex;"><span>sep <span style="color:#0000cf;font-weight:bold">01</span> 21:05:45 10.0.2.15 kubelet<span style="color:#ce5c00;font-weight:bold">[</span>4682<span style="color:#ce5c00;font-weight:bold">]</span>: E0901 21:05:45.728937    <span style="color:#0000cf;font-weight:bold">4682</span> kubelet.go:2169<span style="color:#ce5c00;font-weight:bold">]</span> Container runtime network not ready: NetworkRe...tialized
</span></span><span style="display:flex;"><span>sep <span style="color:#0000cf;font-weight:bold">01</span> 21:05:45 10.0.2.15 kubelet<span style="color:#ce5c00;font-weight:bold">[</span>4682<span style="color:#ce5c00;font-weight:bold">]</span>: E0901 21:05:45.813742    <span style="color:#0000cf;font-weight:bold">4682</span> summary_sys_containers.go:47<span style="color:#ce5c00;font-weight:bold">]</span> Failed to get system container stats <span style="color:#204a87;font-weight:bold">for</span> ...
</span></span><span style="display:flex;"><span>sep <span style="color:#0000cf;font-weight:bold">01</span> 21:05:45 10.0.2.15 kubelet<span style="color:#ce5c00;font-weight:bold">[</span>4682<span style="color:#ce5c00;font-weight:bold">]</span>: E0901 21:05:45.813868    <span style="color:#0000cf;font-weight:bold">4682</span> summary_sys_containers.go:47<span style="color:#ce5c00;font-weight:bold">]</span> Failed to get system container stats <span style="color:#204a87;font-weight:bold">for</span> ...
</span></span><span style="display:flex;"><span>sep <span style="color:#0000cf;font-weight:bold">01</span> 21:05:47 10.0.2.15 kubelet<span style="color:#ce5c00;font-weight:bold">[</span>4682<span style="color:#ce5c00;font-weight:bold">]</span>: W0901 21:05:47.278690    <span style="color:#0000cf;font-weight:bold">4682</span> cni.go:213<span style="color:#ce5c00;font-weight:bold">]</span> Unable to update cni config: No networks found in /...ni/net.d
</span></span><span style="display:flex;"><span>sep <span style="color:#0000cf;font-weight:bold">01</span> 21:05:50 10.0.2.15 kubelet<span style="color:#ce5c00;font-weight:bold">[</span>4682<span style="color:#ce5c00;font-weight:bold">]</span>: E0901 21:05:50.733668    <span style="color:#0000cf;font-weight:bold">4682</span> kubelet.go:2169<span style="color:#ce5c00;font-weight:bold">]</span> Container runtime network not ready: NetworkRe...tialized
</span></span><span style="display:flex;"><span>Hint: Some lines were ellipsized, use -l to show in full.
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#run the following as a regular user, to start using the cluster</span>
</span></span><span style="display:flex;"><span>mkdir -p <span style="color:#000">$HOME</span>/.kube
</span></span><span style="display:flex;"><span>sudo cp -i /etc/kubernetes/admin.conf <span style="color:#000">$HOME</span>/.kube/config
</span></span><span style="display:flex;"><span>sudo chown <span style="color:#204a87;font-weight:bold">$(</span>id -u<span style="color:#204a87;font-weight:bold">)</span>:<span style="color:#204a87;font-weight:bold">$(</span>id -g<span style="color:#204a87;font-weight:bold">)</span> <span style="color:#000">$HOME</span>/.kube/config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># kubectl get nodes</span>
</span></span><span style="display:flex;"><span>NAME        STATUS     ROLES    AGE     VERSION
</span></span><span style="display:flex;"><span>10.0.2.15   NotReady   master   6m38s   v1.15.3
</span></span></code></pre></div><h2 id="deploy-weave-network-for-networking">Deploy Weave Network for networking</h2>
<p>Weave uses POD CIDR of 10.32.0.0/12 by default.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># kubectl apply -f &#34;https://cloud.weave.works/k8s/net?k8s-version=$(kubectl version | base64 | tr -d &#39;\n&#39;)&#34;</span>
</span></span><span style="display:flex;"><span>serviceaccount/weave-net created
</span></span><span style="display:flex;"><span>clusterrole.rbac.authorization.k8s.io/weave-net created
</span></span><span style="display:flex;"><span>clusterrolebinding.rbac.authorization.k8s.io/weave-net created
</span></span><span style="display:flex;"><span>role.rbac.authorization.k8s.io/weave-net created
</span></span><span style="display:flex;"><span>rolebinding.rbac.authorization.k8s.io/weave-net created
</span></span><span style="display:flex;"><span>daemonset.extensions/weave-net created
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># kubernetes master is now in Ready status after deploying weave-net</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># kubectl get nodes</span>
</span></span><span style="display:flex;"><span>NAME        STATUS   ROLES    AGE   VERSION
</span></span><span style="display:flex;"><span>10.0.2.15   Ready    master   4d    v1.15.3
</span></span></code></pre></div><h2 id="verification">Verification</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># kubectl get pods -n kube-system</span>
</span></span><span style="display:flex;"><span>NAME                                READY   STATUS    RESTARTS   AGE
</span></span><span style="display:flex;"><span>coredns-5644d7b6d9-9gp2m            0/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          23m
</span></span><span style="display:flex;"><span>coredns-5644d7b6d9-x5f9f            0/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          23m
</span></span><span style="display:flex;"><span>etcd-10.0.2.15                      1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          22m
</span></span><span style="display:flex;"><span>kube-apiserver-10.0.2.15            1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          22m
</span></span><span style="display:flex;"><span>kube-controller-manager-10.0.2.15   1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          22m
</span></span><span style="display:flex;"><span>kube-proxy-xw6mq                    1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          23m
</span></span><span style="display:flex;"><span>kube-scheduler-10.0.2.15            1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          22m
</span></span><span style="display:flex;"><span>weave-net-8hmqc                     2/2     Running   <span style="color:#0000cf;font-weight:bold">0</span>          2m6s
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># kubectl get pods -A</span>
</span></span><span style="display:flex;"><span>NAMESPACE     NAME                                READY   STATUS    RESTARTS   AGE
</span></span><span style="display:flex;"><span>kube-system   coredns-5644d7b6d9-9gp2m            0/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          23m
</span></span><span style="display:flex;"><span>kube-system   coredns-5644d7b6d9-x5f9f            0/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          23m
</span></span><span style="display:flex;"><span>kube-system   etcd-10.0.2.15                      1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          22m
</span></span><span style="display:flex;"><span>kube-system   kube-apiserver-10.0.2.15            1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          22m
</span></span><span style="display:flex;"><span>kube-system   kube-controller-manager-10.0.2.15   1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          22m
</span></span><span style="display:flex;"><span>kube-system   kube-proxy-xw6mq                    1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          23m
</span></span><span style="display:flex;"><span>kube-system   kube-scheduler-10.0.2.15            1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          22m
</span></span><span style="display:flex;"><span>kube-system   weave-net-8hmqc                     2/2     Running   <span style="color:#0000cf;font-weight:bold">0</span>          2m9s
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># kubectl get componentstatuses</span>
</span></span><span style="display:flex;"><span>NAME                 STATUS    MESSAGE             ERROR
</span></span><span style="display:flex;"><span>controller-manager   Healthy   ok
</span></span><span style="display:flex;"><span>scheduler            Healthy   ok
</span></span><span style="display:flex;"><span>etcd-0               Healthy   <span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#4e9a06">&#34;health&#34;</span>:<span style="color:#4e9a06">&#34;true&#34;</span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># kubectl get events</span>
</span></span><span style="display:flex;"><span>LAST SEEN   TYPE     REASON                    OBJECT           MESSAGE
</span></span><span style="display:flex;"><span>4d          Normal   NodeHasSufficientMemory   node/10.0.2.15   Node 10.0.2.15 status is now: NodeHasSufficientMemory
</span></span><span style="display:flex;"><span>4d          Normal   NodeHasNoDiskPressure     node/10.0.2.15   Node 10.0.2.15 status is now: NodeHasNoDiskPressure
</span></span><span style="display:flex;"><span>4d          Normal   NodeHasSufficientPID      node/10.0.2.15   Node 10.0.2.15 status is now: NodeHasSufficientPID
</span></span><span style="display:flex;"><span>4d          Normal   RegisteredNode            node/10.0.2.15   Node 10.0.2.15 event: Registered Node 10.0.2.15 in Controller
</span></span><span style="display:flex;"><span>4d          Normal   Starting                  node/10.0.2.15   Starting kube-proxy.
</span></span><span style="display:flex;"><span>38m         Normal   Starting                  node/10.0.2.15   Starting kubelet.
</span></span><span style="display:flex;"><span>38m         Normal   NodeHasSufficientMemory   node/10.0.2.15   Node 10.0.2.15 status is now: NodeHasSufficientMemory
</span></span><span style="display:flex;"><span>38m         Normal   NodeHasNoDiskPressure     node/10.0.2.15   Node 10.0.2.15 status is now: NodeHasNoDiskPressure
</span></span><span style="display:flex;"><span>38m         Normal   NodeHasSufficientPID      node/10.0.2.15   Node 10.0.2.15 status is now: NodeHasSufficientPID
</span></span><span style="display:flex;"><span>38m         Normal   NodeAllocatableEnforced   node/10.0.2.15   Updated Node Allocatable limit across pods
</span></span><span style="display:flex;"><span>38m         Normal   Starting                  node/10.0.2.15   Starting kube-proxy.
</span></span><span style="display:flex;"><span>38m         Normal   RegisteredNode            node/10.0.2.15   Node 10.0.2.15 event: Registered Node 10.0.2.15 in Controller
</span></span><span style="display:flex;"><span>12m         Normal   NodeReady                 node/10.0.2.15   Node 10.0.2.15 status is now: NodeReady
</span></span></code></pre></div><h2 id="etckubernetes">etc/kubernetes</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 kubernetes<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># tree /etc/kubernetes</span>
</span></span><span style="display:flex;"><span>/etc/kubernetes
</span></span><span style="display:flex;"><span>├── admin.conf
</span></span><span style="display:flex;"><span>├── controller-manager.conf
</span></span><span style="display:flex;"><span>├── kubelet.conf
</span></span><span style="display:flex;"><span>├── manifests
</span></span><span style="display:flex;"><span>│   ├── etcd.yaml
</span></span><span style="display:flex;"><span>│   ├── kube-apiserver.yaml
</span></span><span style="display:flex;"><span>│   ├── kube-controller-manager.yaml
</span></span><span style="display:flex;"><span>│   └── kube-scheduler.yaml
</span></span><span style="display:flex;"><span>├── pki
</span></span><span style="display:flex;"><span>│   ├── apiserver.crt
</span></span><span style="display:flex;"><span>│   ├── apiserver-etcd-client.crt
</span></span><span style="display:flex;"><span>│   ├── apiserver-etcd-client.key
</span></span><span style="display:flex;"><span>│   ├── apiserver.key
</span></span><span style="display:flex;"><span>│   ├── apiserver-kubelet-client.crt
</span></span><span style="display:flex;"><span>│   ├── apiserver-kubelet-client.key
</span></span><span style="display:flex;"><span>│   ├── ca.crt
</span></span><span style="display:flex;"><span>│   ├── ca.key
</span></span><span style="display:flex;"><span>│   ├── etcd
</span></span><span style="display:flex;"><span>│   │   ├── ca.crt
</span></span><span style="display:flex;"><span>│   │   ├── ca.key
</span></span><span style="display:flex;"><span>│   │   ├── healthcheck-client.crt
</span></span><span style="display:flex;"><span>│   │   ├── healthcheck-client.key
</span></span><span style="display:flex;"><span>│   │   ├── peer.crt
</span></span><span style="display:flex;"><span>│   │   ├── peer.key
</span></span><span style="display:flex;"><span>│   │   ├── server.crt
</span></span><span style="display:flex;"><span>│   │   └── server.key
</span></span><span style="display:flex;"><span>│   ├── front-proxy-ca.crt
</span></span><span style="display:flex;"><span>│   ├── front-proxy-ca.key
</span></span><span style="display:flex;"><span>│   ├── front-proxy-client.crt
</span></span><span style="display:flex;"><span>│   ├── front-proxy-client.key
</span></span><span style="display:flex;"><span>│   ├── sa.key
</span></span><span style="display:flex;"><span>│   └── sa.pub
</span></span><span style="display:flex;"><span>└── scheduler.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">3</span> directories, <span style="color:#0000cf;font-weight:bold">30</span> files
</span></span></code></pre></div><h2 id="docker-images-for-kubernetes-cluster">Docker images for kubernetes cluster</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 kubernetes<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># docker images</span>
</span></span><span style="display:flex;"><span>REPOSITORY                           TAG                 IMAGE ID            CREATED             SIZE
</span></span><span style="display:flex;"><span>k8s.gcr.io/kube-proxy                v1.15.3             232b5c793146        <span style="color:#0000cf;font-weight:bold">13</span> days ago         82.4 MB
</span></span><span style="display:flex;"><span>k8s.gcr.io/kube-apiserver            v1.15.3             5eb2d3fc7a44        <span style="color:#0000cf;font-weight:bold">13</span> days ago         <span style="color:#0000cf;font-weight:bold">207</span> MB
</span></span><span style="display:flex;"><span>k8s.gcr.io/kube-scheduler            v1.15.3             703f9c69a5d5        <span style="color:#0000cf;font-weight:bold">13</span> days ago         81.1 MB
</span></span><span style="display:flex;"><span>k8s.gcr.io/kube-controller-manager   v1.15.3             e77c31de5547        <span style="color:#0000cf;font-weight:bold">13</span> days ago         <span style="color:#0000cf;font-weight:bold">159</span> MB
</span></span><span style="display:flex;"><span>k8s.gcr.io/coredns                   1.3.1               eb516548c180        <span style="color:#0000cf;font-weight:bold">7</span> months ago        40.3 MB
</span></span><span style="display:flex;"><span>k8s.gcr.io/etcd                      3.3.10              2c4adeb21b4f        <span style="color:#0000cf;font-weight:bold">9</span> months ago        <span style="color:#0000cf;font-weight:bold">258</span> MB
</span></span><span style="display:flex;"><span>k8s.gcr.io/pause                     3.1                 da86e6ba6ca1        <span style="color:#0000cf;font-weight:bold">20</span> months ago       <span style="color:#0000cf;font-weight:bold">742</span> kB
</span></span></code></pre></div><h2 id="kubeadm-reset">kubeadm reset</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># kubeadm reset</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>reset<span style="color:#ce5c00;font-weight:bold">]</span> Reading configuration from the cluster...
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>reset<span style="color:#ce5c00;font-weight:bold">]</span> FYI: You can look at this config file with <span style="color:#4e9a06">&#39;kubectl -n kube-system get cm kubeadm-config -oyaml&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>reset<span style="color:#ce5c00;font-weight:bold">]</span> WARNING: Changes made to this host by <span style="color:#4e9a06">&#39;kubeadm init&#39;</span> or <span style="color:#4e9a06">&#39;kubeadm join&#39;</span> will be reverted.
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>reset<span style="color:#ce5c00;font-weight:bold">]</span> Are you sure you want to proceed? <span style="color:#ce5c00;font-weight:bold">[</span>y/N<span style="color:#ce5c00;font-weight:bold">]</span>: y
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>preflight<span style="color:#ce5c00;font-weight:bold">]</span> Running pre-flight checks
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>reset<span style="color:#ce5c00;font-weight:bold">]</span> Removing info <span style="color:#204a87;font-weight:bold">for</span> node <span style="color:#4e9a06">&#34;10.0.2.15&#34;</span> from the ConfigMap <span style="color:#4e9a06">&#34;kubeadm-config&#34;</span> in the <span style="color:#4e9a06">&#34;kube-system&#34;</span> Namespace
</span></span><span style="display:flex;"><span>W0901 11:56:16.802756   <span style="color:#0000cf;font-weight:bold">29062</span> removeetcdmember.go:61<span style="color:#ce5c00;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">[</span>reset<span style="color:#ce5c00;font-weight:bold">]</span> failed to remove etcd member: error syncing endpoints with etc: etcdclient: no available endpoints
</span></span><span style="display:flex;"><span>.Please manually remove this etcd member using etcdctl
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>reset<span style="color:#ce5c00;font-weight:bold">]</span> Stopping the kubelet service
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>reset<span style="color:#ce5c00;font-weight:bold">]</span> Unmounting mounted directories in <span style="color:#4e9a06">&#34;/var/lib/kubelet&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>reset<span style="color:#ce5c00;font-weight:bold">]</span> Deleting contents of config directories: <span style="color:#ce5c00;font-weight:bold">[</span>/etc/kubernetes/manifests /etc/kubernetes/pki<span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>reset<span style="color:#ce5c00;font-weight:bold">]</span> Deleting files: <span style="color:#ce5c00;font-weight:bold">[</span>/etc/kubernetes/admin.conf /etc/kubernetes/kubelet.conf /etc/kubernetes/bootstrap-kubelet.conf /etc/kubernetes/controller-manager.conf /etc/kubernetes/scheduler.conf<span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>reset<span style="color:#ce5c00;font-weight:bold">]</span> Deleting contents of stateful directories: <span style="color:#ce5c00;font-weight:bold">[</span>/var/lib/etcd /var/lib/kubelet /etc/cni/net.d /var/lib/dockershim /var/run/kubernetes<span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>The reset process does not reset or clean up iptables rules or IPVS tables.
</span></span><span style="display:flex;"><span>If you wish to reset iptables, you must <span style="color:#204a87;font-weight:bold">do</span> so manually.
</span></span><span style="display:flex;"><span>For example:
</span></span><span style="display:flex;"><span>iptables -F <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span> iptables -t nat -F <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span> iptables -t mangle -F <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span> iptables -X
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>If your cluster was setup to utilize IPVS, run ipvsadm --clear <span style="color:#ce5c00;font-weight:bold">(</span>or similar<span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>to reset your system<span style="color:#a40000">&#39;</span>s IPVS tables.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>The reset process does not clean your kubeconfig files and you must remove them manually.
</span></span><span style="display:flex;"><span>Please, check the contents of the <span style="color:#000">$HOME</span>/.kube/config file.
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic">#</span>
</span></span></code></pre></div><h2 id="start-k8s-cluster-after-system-reboot">Start k8s cluster after system reboot</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># swapoff -a</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># systemctl start kubelet</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># systemctl status kubelet</span>
</span></span></code></pre></div><h2 id="kubeadm-join-token">kubeadm join token</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># This command will create a new token and display the connection string</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">[</span>root@10 ~<span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#8f5902;font-style:italic"># kubeadm token create --print-join-command</span>
</span></span><span style="display:flex;"><span>kubeadm join 10.0.2.15:6443 --token 1clhim.pk9teustr2v1gnu2     --discovery-token-ca-cert-hash sha256:efe18b97c7a320e7173238af7126e33ebe76f3877255c8f9aa055f292dbf3755
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Other toke commands</span>
</span></span><span style="display:flex;"><span>kubeadm token list
</span></span><span style="display:flex;"><span>kubeadm token delete &lt;TOKEN&gt;
</span></span></code></pre></div><h2 id="troubleshooting">Troubleshooting</h2>
<p><code>kubelet service not starting</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># vi /var/log/messages</span>
</span></span><span style="display:flex;"><span>Sep  <span style="color:#0000cf;font-weight:bold">1</span> 20:57:25 localhost kubelet: F0901 20:57:25.706063    <span style="color:#0000cf;font-weight:bold">2874</span> server.go:198<span style="color:#ce5c00;font-weight:bold">]</span> failed to load Kubelet config file /var/lib/kubelet/config.yaml, error failed to <span style="color:#204a87">read</span> kubelet config file <span style="color:#4e9a06">&#34;/var/lib/kubelet/config.yaml&#34;</span>, error: open /var/lib/kubelet/config.yaml: no such file or directory
</span></span><span style="display:flex;"><span>Sep  <span style="color:#0000cf;font-weight:bold">1</span> 20:57:25 localhost systemd: kubelet.service: main process exited, <span style="color:#000">code</span><span style="color:#ce5c00;font-weight:bold">=</span>exited, <span style="color:#000">status</span><span style="color:#ce5c00;font-weight:bold">=</span>255/n/a
</span></span><span style="display:flex;"><span>Sep  <span style="color:#0000cf;font-weight:bold">1</span> 20:57:25 localhost systemd: Unit kubelet.service entered failed state.
</span></span><span style="display:flex;"><span>Sep  <span style="color:#0000cf;font-weight:bold">1</span> 20:57:25 localhost systemd: kubelet.service failed.
</span></span><span style="display:flex;"><span>Sep  <span style="color:#0000cf;font-weight:bold">1</span> 20:57:35 localhost systemd: kubelet.service holdoff <span style="color:#204a87">time</span> over, scheduling restart.
</span></span><span style="display:flex;"><span>Sep  <span style="color:#0000cf;font-weight:bold">1</span> 20:57:35 localhost systemd: Stopped kubelet: The Kubernetes Node Agent.
</span></span><span style="display:flex;"><span>Sep  <span style="color:#0000cf;font-weight:bold">1</span> 20:57:35 localhost systemd: Started kubelet: The Kubernetes Node Agent.
</span></span><span style="display:flex;"><span>Sep  <span style="color:#0000cf;font-weight:bold">1</span> 20:57:35 localhost kubelet: F0901 20:57:35.968939    <span style="color:#0000cf;font-weight:bold">2882</span> server.go:198<span style="color:#ce5c00;font-weight:bold">]</span> failed to load Kubelet config file /var/lib/kubelet/config.yaml, error failed to <span style="color:#204a87">read</span> kubelet config file <span style="color:#4e9a06">&#34;/var/lib/kubelet/config.yaml&#34;</span>, error: open /var/lib/kubelet/config.yaml: no such file or directory
</span></span><span style="display:flex;"><span>Sep  <span style="color:#0000cf;font-weight:bold">1</span> 20:57:35 localhost systemd: kubelet.service: main process exited, <span style="color:#000">code</span><span style="color:#ce5c00;font-weight:bold">=</span>exited, <span style="color:#000">status</span><span style="color:#ce5c00;font-weight:bold">=</span>255/n/a
</span></span><span style="display:flex;"><span>Sep  <span style="color:#0000cf;font-weight:bold">1</span> 20:57:35 localhost systemd: Unit kubelet.service entered failed state.
</span></span><span style="display:flex;"><span>Sep  <span style="color:#0000cf;font-weight:bold">1</span> 20:57:35 localhost systemd: kubelet.service failed.
</span></span></code></pre></div><p>Check journal for kubelet messages
<code>journalctl -xeu kubelet</code></p>
<h3 id="references">References</h3>
<p><a href="https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/">Install Kubeadm</a><br>
<a href="https://github.com/kubernetes/kubeadm/issues/610">ERROR Swap</a><br>
<a href="https://www.weave.works/docs/net/latest/kubernetes/kube-addon/">weavenet</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f29d845ba20c7aaf74772c659d46fb1b">4 - Kind</h1>
    
	<p>kind : kubernetes in docker</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Set go path, kind path and KUBECONFIG path</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87">export</span> <span style="color:#000">PATH</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">$PATH</span>:<span style="color:#000">$HOME</span>/go/bin:<span style="color:#000">$HOME</span>/k8s/bin
</span></span><span style="display:flex;"><span>kind get kubeconfig-path<span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># output: /home/sriram/.kube/kind-config-kind</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87">export</span> <span style="color:#000">KUBECONFIG</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;</span><span style="color:#204a87;font-weight:bold">$(</span>kind get kubeconfig-path<span style="color:#204a87;font-weight:bold">)</span><span style="color:#4e9a06">&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sriram@sriram-Inspiron-5567:~$ kind create cluster
</span></span><span style="display:flex;"><span>Creating cluster <span style="color:#4e9a06">&#34;kind&#34;</span> ...
</span></span><span style="display:flex;"><span> ✓ Ensuring node image <span style="color:#ce5c00;font-weight:bold">(</span>kindest/node:v1.15.0<span style="color:#ce5c00;font-weight:bold">)</span> 🖼 
</span></span><span style="display:flex;"><span> ✓ Preparing nodes 📦 
</span></span><span style="display:flex;"><span> ✓ Creating kubeadm config 📜 
</span></span><span style="display:flex;"><span> ✓ Starting control-plane 🕹️ 
</span></span><span style="display:flex;"><span> ✓ Installing CNI 🔌 
</span></span><span style="display:flex;"><span> ✓ Installing StorageClass 💾 
</span></span><span style="display:flex;"><span>Cluster creation complete. You can now use the cluster with:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87">export</span> <span style="color:#000">KUBECONFIG</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;</span><span style="color:#204a87;font-weight:bold">$(</span>kind get kubeconfig-path --name<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;kind&#34;</span><span style="color:#204a87;font-weight:bold">)</span><span style="color:#4e9a06">&#34;</span>
</span></span><span style="display:flex;"><span>kubectl cluster-info
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>kind create cluster
</span></span><span style="display:flex;"><span> kubectl cluster-info
</span></span><span style="display:flex;"><span> Kubernetes master is running at https://localhost:37933
</span></span><span style="display:flex;"><span> KubeDNS is running at https://localhost:37933/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># To further debug and diagnose cluster problems, use &#39;kubectl cluster-info dump&#39;.</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>kind delete cluster
</span></span><span style="display:flex;"><span>Deleting cluster <span style="color:#4e9a06">&#34;kind&#34;</span> ...
</span></span><span style="display:flex;"><span><span style="color:#000">$KUBECONFIG</span> is still <span style="color:#204a87">set</span> to use /home/sriram/.kube/kind-config-kind even though that file has been deleted, remember to <span style="color:#204a87">unset</span> it
</span></span></code></pre></div><h2 id="references">References</h2>
<p><a href="https://kind.sigs.k8s.io/docs/user/quick-start">https://kind.sigs.k8s.io/docs/user/quick-start</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c6b65bac4ce988e7a0ac2901b02bf214">5 - kubectl</h1>
    
	<p><code>kubectl</code> is the command line interface which uses kubernetes API to interact with the cluster</p>
<h2 id="kubectl-version">kubectl version</h2>
<p>Once kubectl is configured we can see both the version of the client and as well as the server.
The client version is the kubectl version; the server version is the Kubernetes version installed on the master. You can also see details about the build.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ kubectl version
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Client Version: version.Info<span style="color:#ce5c00;font-weight:bold">{</span>Major:<span style="color:#4e9a06">&#34;1&#34;</span>, Minor:<span style="color:#4e9a06">&#34;15&#34;</span>, GitVersion:<span style="color:#4e9a06">&#34;v1.15.2&#34;</span>, GitCommit:<span style="color:#4e9a06">&#34;f6278300bebbb750328ac16ee6dd3aa7d3549568&#34;</span>, GitTreeState:<span style="color:#4e9a06">&#34;clean&#34;</span>, BuildDate:<span style="color:#4e9a06">&#34;2019-08-05T09:23:26Z&#34;</span>, GoVersion:<span style="color:#4e9a06">&#34;go1.12.5&#34;</span>, Compiler:<span style="color:#4e9a06">&#34;gc&#34;</span>, Platform:<span style="color:#4e9a06">&#34;linux/amd64&#34;</span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Server Version: version.Info<span style="color:#ce5c00;font-weight:bold">{</span>Major:<span style="color:#4e9a06">&#34;1&#34;</span>, Minor:<span style="color:#4e9a06">&#34;15&#34;</span>, GitVersion:<span style="color:#4e9a06">&#34;v1.15.0&#34;</span>, GitCommit:<span style="color:#4e9a06">&#34;e8462b5b5dc2584fdcd18e6bcfe9f1e4d970a529&#34;</span>, GitTreeState:<span style="color:#4e9a06">&#34;clean&#34;</span>, BuildDate:<span style="color:#4e9a06">&#34;2019-06-19T16:32:14Z&#34;</span>, GoVersion:<span style="color:#4e9a06">&#34;go1.12.5&#34;</span>, Compiler:<span style="color:#4e9a06">&#34;gc&#34;</span>, Platform:<span style="color:#4e9a06">&#34;linux/amd64&#34;</span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="cluster-info">cluster-info</h2>
<p><code>$ kubectl cluster-info</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ kubectl cluster-info
</span></span><span style="display:flex;"><span>Kubernetes master is running at https://172.17.0.45:8443
</span></span><span style="display:flex;"><span>KubeDNS is running at https://172.17.0.45:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
</span></span><span style="display:flex;"><span>To further debug and diagnose cluster problems, use <span style="color:#4e9a06">&#39;kubectl cluster-info dump&#39;</span>.
</span></span></code></pre></div><h2 id="get-nodes">get nodes</h2>
<p>To view the nodes in the cluster, run the kubectl get nodes command:</p>
<p>This command shows all nodes that can be used to host our applications.<br>
Now we have only one node, and we can see that its status is ready (it is ready to accept applications for deployment).</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ kubectl get nodes
</span></span><span style="display:flex;"><span>NAME       STATUS   ROLES    AGE   VERSION
</span></span><span style="display:flex;"><span>minikube   Ready    master   11m   v1.15.0
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># list nodes with more information</span>
</span></span><span style="display:flex;"><span>$ kubectl get nodes -o<span style="color:#ce5c00;font-weight:bold">=</span>wide
</span></span><span style="display:flex;"><span>NAME       STATUS   ROLES    AGE   VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE              KERNEL-VERSION   CONTAINER-RUNTIME
</span></span><span style="display:flex;"><span>minikube   Ready    master   13m   v1.15.0   10.0.2.15     &lt;none&gt;        Buildroot 2018.05.3   4.15.0           docker://18.9.6
</span></span></code></pre></div><h2 id="creating-namespace-to-isolate-the-pods-in-cluster">Creating namespace to isolate the pods in cluster</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>kubectl create namespace dev
</span></span></code></pre></div><h2 id="configmaps">ConfigMaps</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>Kubectl create configmap <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span> &lt;config-name&gt; --from-literal<span style="color:#ce5c00;font-weight:bold">=</span>&lt;key&gt;<span style="color:#ce5c00;font-weight:bold">=</span>&lt;value&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">(</span>or<span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>Kubectl create configmap <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span> &lt;config-name&gt; --from-file<span style="color:#ce5c00;font-weight:bold">=</span>&lt;path_to_file&gt;
</span></span></code></pre></div><p>Example :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>Kubectl create configmap <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>app-color-config –from-literal<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">APP_COLOR</span><span style="color:#ce5c00;font-weight:bold">=</span>blue <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>--from-literal<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">APP_MOD</span><span style="color:#ce5c00;font-weight:bold">=</span>prod
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Kubectl create configmap <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>app-config  --from-file<span style="color:#ce5c00;font-weight:bold">=</span>app-config.properties
</span></span></code></pre></div><p>View Configmaps :<br>
Kubectl get configmaps</p>
<h3 id="references">References</h3>
<p><a href="https://github.com/katacoda-scenarios/kubernetes-bootcamp-scenarios">kubernetes-bootcamp-scenarios</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-48d1b86edcdf99fef9ba8e64ec4c4fd5">6 - Minikube</h1>
    
	<p>minikube is a tool/utility which runs a single node kuberbetes cluster using a virtual box. This tool helps in learning k8s with local setup.</p>
<h2 id="starting-minikube-for-the-first-time">starting minikube for the first time</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sriram@sriram-Inspiron-5567:~/k8s$ minikube start
</span></span><span style="display:flex;"><span>😄  minikube v1.2.0 on linux <span style="color:#ce5c00;font-weight:bold">(</span>amd64<span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>💿  Downloading Minikube ISO ...
</span></span><span style="display:flex;"><span> 129.33 MB / 129.33 MB <span style="color:#ce5c00;font-weight:bold">[============================================]</span> 100.00% 0s
</span></span><span style="display:flex;"><span>🔥  Creating virtualbox VM <span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">CPUs</span><span style="color:#ce5c00;font-weight:bold">=</span>2, <span style="color:#000">Memory</span><span style="color:#ce5c00;font-weight:bold">=</span>2048MB, <span style="color:#000">Disk</span><span style="color:#ce5c00;font-weight:bold">=</span>20000MB<span style="color:#ce5c00;font-weight:bold">)</span> ...
</span></span><span style="display:flex;"><span>🐳  Configuring environment <span style="color:#204a87;font-weight:bold">for</span> Kubernetes v1.15.0 on Docker 18.09.6
</span></span><span style="display:flex;"><span>💾  Downloading kubeadm v1.15.0
</span></span><span style="display:flex;"><span>💾  Downloading kubelet v1.15.0
</span></span><span style="display:flex;"><span>🚜  Pulling images ...
</span></span><span style="display:flex;"><span>🚀  Launching Kubernetes ... 
</span></span><span style="display:flex;"><span>⌛  Verifying: apiserver proxy etcd scheduler controller dns
</span></span><span style="display:flex;"><span>🏄  Done! kubectl is now configured to use <span style="color:#4e9a06">&#34;minikube&#34;</span>
</span></span></code></pre></div><h2 id="status">status</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ minikube status
</span></span><span style="display:flex;"><span>host: Running
</span></span><span style="display:flex;"><span>kubelet: Running
</span></span><span style="display:flex;"><span>apiserver: Running
</span></span><span style="display:flex;"><span>kubectl: Correctly Configured: pointing to minikube-vm at 192.168.99.100
</span></span></code></pre></div><h2 id="minikube-service-list">minikube service list</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ minikube service list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>-------------<span style="color:#000;font-weight:bold">|</span>------------<span style="color:#000;font-weight:bold">|</span>--------------<span style="color:#000;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>  NAMESPACE  <span style="color:#000;font-weight:bold">|</span>    NAME    <span style="color:#000;font-weight:bold">|</span>     URL      <span style="color:#000;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>-------------<span style="color:#000;font-weight:bold">|</span>------------<span style="color:#000;font-weight:bold">|</span>--------------<span style="color:#000;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span> default     <span style="color:#000;font-weight:bold">|</span> kubernetes <span style="color:#000;font-weight:bold">|</span> No node port <span style="color:#000;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span> kube-system <span style="color:#000;font-weight:bold">|</span> kube-dns   <span style="color:#000;font-weight:bold">|</span> No node port <span style="color:#000;font-weight:bold">|</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">|</span>-------------<span style="color:#000;font-weight:bold">|</span>------------<span style="color:#000;font-weight:bold">|</span>--------------<span style="color:#000;font-weight:bold">|</span>
</span></span></code></pre></div><h2 id="minikube-stop">minikube stop</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ minikube stop
</span></span><span style="display:flex;"><span>✋  Stopping <span style="color:#4e9a06">&#34;minikube&#34;</span> in virtualbox ...
</span></span><span style="display:flex;"><span>🛑  <span style="color:#4e9a06">&#34;minikube&#34;</span> stopped.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ minikube status
</span></span><span style="display:flex;"><span>host: Stopped
</span></span><span style="display:flex;"><span>kubelet:
</span></span><span style="display:flex;"><span>apiserver:
</span></span><span style="display:flex;"><span>kubectl:
</span></span></code></pre></div><h2 id="restarting-minikube">restarting minikube</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sriram@sriram-Inspiron-5567:~/k8s$ minikube start
</span></span><span style="display:flex;"><span>😄  minikube v1.2.0 on linux <span style="color:#ce5c00;font-weight:bold">(</span>amd64<span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>💡  Tip: Use <span style="color:#4e9a06">&#39;minikube start -p &lt;name&gt;&#39;</span> to create a new cluster, or <span style="color:#4e9a06">&#39;minikube delete&#39;</span> to delete this one.
</span></span><span style="display:flex;"><span>🔄  Restarting existing virtualbox VM <span style="color:#204a87;font-weight:bold">for</span> <span style="color:#4e9a06">&#34;minikube&#34;</span> ...
</span></span><span style="display:flex;"><span>⌛  Waiting <span style="color:#204a87;font-weight:bold">for</span> SSH access ...
</span></span><span style="display:flex;"><span>🐳  Configuring environment <span style="color:#204a87;font-weight:bold">for</span> Kubernetes v1.15.0 on Docker 18.09.6
</span></span><span style="display:flex;"><span>🔄  Relaunching Kubernetes v1.15.0 using kubeadm ... 
</span></span><span style="display:flex;"><span>⌛  Verifying: apiserver proxy etcd scheduler controller dns
</span></span><span style="display:flex;"><span>🏄  Done! kubectl is now configured to use <span style="color:#4e9a06">&#34;minikube&#34;</span>
</span></span></code></pre></div><h2 id="enable-metrics-service-and-listing-all-apiservices">Enable metrics service and listing all apiservices</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ minikube addons <span style="color:#204a87">enable</span> metrics-server
</span></span><span style="display:flex;"><span>✅  metrics-server was successfully enabled
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sriram@sriram-Inspiron-5567:~/k8s$ kubectl get apiservices
</span></span><span style="display:flex;"><span>NAME                                   SERVICE                      AVAILABLE   AGE
</span></span><span style="display:flex;"><span>v1.                                    Local                        True        31m
</span></span><span style="display:flex;"><span>v1.apps                                Local                        True        31m
</span></span><span style="display:flex;"><span>v1.authentication.k8s.io               Local                        True        31m
</span></span><span style="display:flex;"><span>v1.authorization.k8s.io                Local                        True        31m
</span></span><span style="display:flex;"><span>v1.autoscaling                         Local                        True        31m
</span></span><span style="display:flex;"><span>v1.batch                               Local                        True        31m
</span></span><span style="display:flex;"><span>v1.coordination.k8s.io                 Local                        True        31m
</span></span><span style="display:flex;"><span>v1.networking.k8s.io                   Local                        True        31m
</span></span><span style="display:flex;"><span>v1.rbac.authorization.k8s.io           Local                        True        31m
</span></span><span style="display:flex;"><span>v1.scheduling.k8s.io                   Local                        True        31m
</span></span><span style="display:flex;"><span>v1.storage.k8s.io                      Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.admissionregistration.k8s.io   Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.apiextensions.k8s.io           Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.apps                           Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.authentication.k8s.io          Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.authorization.k8s.io           Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.batch                          Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.certificates.k8s.io            Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.coordination.k8s.io            Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.events.k8s.io                  Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.extensions                     Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.metrics.k8s.io                 kube-system/metrics-server   True        95s
</span></span><span style="display:flex;"><span>v1beta1.networking.k8s.io              Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.node.k8s.io                    Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.policy                         Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.rbac.authorization.k8s.io      Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.scheduling.k8s.io              Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta1.storage.k8s.io                 Local                        True        31m
</span></span><span style="display:flex;"><span>v1beta2.apps                           Local                        True        31m
</span></span><span style="display:flex;"><span>v2beta1.autoscaling                    Local                        True        31m
</span></span><span style="display:flex;"><span>v2beta2.autoscaling                    Local                        True        31m
</span></span></code></pre></div><h2 id="minikube-behind-proxy">Minikube behind Proxy</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#204a87">export</span> <span style="color:#000">HTTP_PROXY</span><span style="color:#ce5c00;font-weight:bold">=</span>http://&lt;proxy hostname:port&gt;
</span></span><span style="display:flex;"><span><span style="color:#204a87">export</span> <span style="color:#000">HTTPS_PROXY</span><span style="color:#ce5c00;font-weight:bold">=</span>https://&lt;proxy hostname:port&gt;
</span></span><span style="display:flex;"><span><span style="color:#204a87">export</span> <span style="color:#000">NO_PROXY</span><span style="color:#ce5c00;font-weight:bold">=</span>localhost,127.0.0.1,10.96.0.0/12,192.168.99.0/24,192.168.39.0/24
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>minikube start
</span></span></code></pre></div><h2 id="references">References</h2>
<p><a href="https://kubernetes.io/docs/setup/learning-environment/minikube/">minikube</a>
<a href="https://github.com/kubernetes/minikube/blob/master/docs/http_proxy.md">http-proxy</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-111282e399ae4a4e23557131ba2ea1ff">7 - Pod</h1>
    
	<p>Kubernetes PODS</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl describe pods
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Name:           kubernetes-bootcamp-5b48cfdcbd-5ddlwNamespace:      defaultPriority:       <span style="color:#0000cf;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Node:           minikube/172.17.0.90
</span></span><span style="display:flex;"><span>Start Time:     Mon, <span style="color:#0000cf;font-weight:bold">26</span> Aug <span style="color:#0000cf;font-weight:bold">2019</span> 11:54:05 +0000
</span></span><span style="display:flex;"><span>Labels:         pod-template-hash<span style="color:#ce5c00;font-weight:bold">=</span>5b48cfdcbd
</span></span><span style="display:flex;"><span>                <span style="color:#000">run</span><span style="color:#ce5c00;font-weight:bold">=</span>kubernetes-bootcamp
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Annotations:    &lt;none&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Status:         Running
</span></span><span style="display:flex;"><span>IP:             172.18.0.5
</span></span><span style="display:flex;"><span>Controlled By:  ReplicaSet/kubernetes-bootcamp-5b48cfdcbd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Containers:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  kubernetes-bootcamp:
</span></span><span style="display:flex;"><span>    Container ID:   docker://016f25827984c14dc74e5cbaafe43b0fb77b20b8838b5818d1e9a90376b8ad5d
</span></span><span style="display:flex;"><span>    Image:          gcr.io/google-samples/kubernetes-bootcamp:v1
</span></span><span style="display:flex;"><span>    Image ID:       docker-pullable://jocatalin/kubernetes-bootcamp@sha256:0d6b8ee63bb57c5f5b6156f446b3bc3b3c143d233037f3a2f00e279c8fcc64af
</span></span><span style="display:flex;"><span>    Port:           8080/TCP
</span></span><span style="display:flex;"><span>    Host Port:      0/TCP
</span></span><span style="display:flex;"><span>    State:          Running
</span></span><span style="display:flex;"><span>      Started:      Mon, <span style="color:#0000cf;font-weight:bold">26</span> Aug <span style="color:#0000cf;font-weight:bold">2019</span> 11:54:06 +0000
</span></span><span style="display:flex;"><span>    Ready:          True
</span></span><span style="display:flex;"><span>    Restart Count:  <span style="color:#0000cf;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span>    Environment:    &lt;none&gt;
</span></span><span style="display:flex;"><span>    Mounts:
</span></span><span style="display:flex;"><span>      /var/run/secrets/kubernetes.io/serviceaccount from default-token-5wbkl <span style="color:#ce5c00;font-weight:bold">(</span>ro<span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>Conditions:
</span></span><span style="display:flex;"><span>  Type              Status
</span></span><span style="display:flex;"><span>  Initialized       True
</span></span><span style="display:flex;"><span>  Ready             True
</span></span><span style="display:flex;"><span>  ContainersReady   True
</span></span><span style="display:flex;"><span>  PodScheduled      True
</span></span><span style="display:flex;"><span>Volumes:
</span></span><span style="display:flex;"><span>  default-token-5wbkl:
</span></span><span style="display:flex;"><span>    Type:        Secret <span style="color:#ce5c00;font-weight:bold">(</span>a volume populated by a Secret<span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    SecretName:  default-token-5wbkl
</span></span><span style="display:flex;"><span>    Optional:    <span style="color:#204a87">false</span>
</span></span><span style="display:flex;"><span>QoS Class:       BestEffort
</span></span><span style="display:flex;"><span>Node-Selectors:  &lt;none&gt;
</span></span><span style="display:flex;"><span>Tolerations:     node.kubernetes.io/not-ready:NoExecute <span style="color:#204a87;font-weight:bold">for</span> 300s
</span></span><span style="display:flex;"><span>                 node.kubernetes.io/unreachable:NoExecute <span style="color:#204a87;font-weight:bold">for</span> 300s
</span></span><span style="display:flex;"><span>Events:
</span></span><span style="display:flex;"><span>  Type    Reason     Age    From               Message
</span></span><span style="display:flex;"><span>  ----    ------     ----   ----               -------
</span></span><span style="display:flex;"><span>  Normal  Scheduled  6m58s  default-scheduler  Successfully assigned default/kubernetes-bootcamp-5b48cfdcbd-5ddlw to minikube
</span></span><span style="display:flex;"><span>  Normal  Pulled     6m57s  kubelet, minikube  Container image <span style="color:#4e9a06">&#34;gcr.io/google-samples/kubernetes-bootcamp:v1&#34;</span> already present on machine
</span></span><span style="display:flex;"><span>  Normal  Created    6m57s  kubelet, minikube  Created container kubernetes-bootcamp
</span></span><span style="display:flex;"><span>  Normal  Started    6m57s  kubelet, minikube  Started container kubernetes-bootcamp
</span></span></code></pre></div><h2 id="pod-manifestdefinition">POD Manifest/Definition</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">apiVersion</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">v1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Pod</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">metadata</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">label-demo</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">labels</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">environment</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">production</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">app</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">nginx</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">containers</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">nginx</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">image</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">nginx:1.7.9</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">ports</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span>- <span style="color:#204a87;font-weight:bold">containerPort</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">80</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>$ kubectl apply -f nginx-pod.yaml
$ kubectl get events
$ kubectl get pods
$ kubectl delete pod label-demo</p>
<h2 id="static-pod">Static POD</h2>
<p>PODS that are created by kubelet without any communication from kube-apiserver are called static pods.<br>
If master node fails, kublet on worker node can manage deploying/deleting the pods. This can be achieved by placing the pod definition files directly in the manifests path on the node (/etc/kubernetes/manifests). Kublet monitors this path regularly and creates a POD and also ensures the POD stays alive.</p>
<h2 id="pod-eviction">POD Eviction</h2>
<p>If a node runs out of CPU, memory or disk, Kubernetes may decide to evict one or more pods. It may choose to evict the Weave Net pod, which will disrupt pod network operations.</p>
<p>You can see when pods have been evicted via the <code>kubectl get events</code> command or <code>kubectl get pods</code></p>
<h3 id="resources">Resources</h3>
<p><a href="https://kubernetes.io/docs/tasks/administer-cluster/out-of-resource/">Eviction</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2a27e1e775ecc0a1f9bf06b962415eec">8 - Secrets</h1>
    
	<p>Managing kubernetes secrets</p>
<p>Secret Manifest with default secret type:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">apiVersion</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">v1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Secret</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">metadata</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">mysecret</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">type</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Opaque</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">data</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">username</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">User</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">password</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#8f5902;font-style:italic">**********</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ kubectl apply -f ./secret.yaml
</span></span><span style="display:flex;"><span>$ kubectl get secrets
</span></span><span style="display:flex;"><span>NAME                  TYPE                                  DATA   AGE
</span></span><span style="display:flex;"><span>default-token-prh24   kubernetes.io/service-account-token   <span style="color:#0000cf;font-weight:bold">3</span>      27m
</span></span><span style="display:flex;"><span>mysecret              Opaque                                <span style="color:#0000cf;font-weight:bold">2</span>      14m
</span></span></code></pre></div><p>type: Opaque means that from kubernetes&rsquo;s point of view the contents of this Secret is unstructured, it can contain arbitrary key-value pairs.</p>
<p>SecretType = &ldquo;Opaque&rdquo;                                 // Opaque (arbitrary data; default)
SecretType = &ldquo;kubernetes.io/service-account-token&rdquo;    // Kubernetes auth token
SecretType = &ldquo;kubernetes.io/dockercfg&rdquo;                // Docker registry auth
SecretType = &ldquo;kubernetes.io/dockerconfigjson&rdquo;         // Latest Docker registry auth</p>
<h3 id="references">References</h3>
<p><a href="https://github.com/kubernetes/kubernetes/blob/release-1.14/pkg/apis/core/types.go#L4447">K8S-SecretTypes</a></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9d847c2d2326d448815ff13e28837043">9 - Troubleshooting</h1>
    
	<p>Troubleshooting</p>
<p><code>kubectl get</code> - list resources</p>
<p><code>kubectl describe</code> - show detailed information about a resource</p>
<p><code>kubectl logs</code> - print the logs from a container in a pod</p>
<p><code>kubectl exec</code> - execute a command on a container in a pod</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ <span style="color:#204a87">export</span> <span style="color:#000">POD_NAME</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87;font-weight:bold">$(</span>kubectl get pods -o go-template --template <span style="color:#4e9a06">&#39;{{range .items}}{{.metadata.name}}{{&#34;\n&#34;}}{{end}}&#39;</span><span style="color:#204a87;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ <span style="color:#204a87">echo</span> <span style="color:#000">$POD_NAME</span>
</span></span><span style="display:flex;"><span>kubernetes-bootcamp-5b48cfdcbd-5ddlw
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ kubectl <span style="color:#204a87">exec</span> <span style="color:#000">$POD_NAME</span> env
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">PATH</span><span style="color:#ce5c00;font-weight:bold">=</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
</span></span><span style="display:flex;"><span><span style="color:#000">HOSTNAME</span><span style="color:#ce5c00;font-weight:bold">=</span>kubernetes-bootcamp-5b48cfdcbd-5ddlw
</span></span><span style="display:flex;"><span><span style="color:#000">KUBERNETES_SERVICE_HOST</span><span style="color:#ce5c00;font-weight:bold">=</span>10.96.0.1
</span></span><span style="display:flex;"><span><span style="color:#000">KUBERNETES_SERVICE_PORT</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">443</span>
</span></span><span style="display:flex;"><span><span style="color:#000">KUBERNETES_SERVICE_PORT_HTTPS</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">443</span>
</span></span><span style="display:flex;"><span><span style="color:#000">KUBERNETES_PORT</span><span style="color:#ce5c00;font-weight:bold">=</span>tcp://10.96.0.1:443
</span></span><span style="display:flex;"><span><span style="color:#000">KUBERNETES_PORT_443_TCP</span><span style="color:#ce5c00;font-weight:bold">=</span>tcp://10.96.0.1:443
</span></span><span style="display:flex;"><span><span style="color:#000">KUBERNETES_PORT_443_TCP_PROTO</span><span style="color:#ce5c00;font-weight:bold">=</span>tcp
</span></span><span style="display:flex;"><span><span style="color:#000">KUBERNETES_PORT_443_TCP_PORT</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">443</span>
</span></span><span style="display:flex;"><span><span style="color:#000">KUBERNETES_PORT_443_TCP_ADDR</span><span style="color:#ce5c00;font-weight:bold">=</span>10.96.0.1
</span></span><span style="display:flex;"><span><span style="color:#000">NPM_CONFIG_LOGLEVEL</span><span style="color:#ce5c00;font-weight:bold">=</span>info
</span></span><span style="display:flex;"><span><span style="color:#000">NODE_VERSION</span><span style="color:#ce5c00;font-weight:bold">=</span>6.3.1
</span></span><span style="display:flex;"><span><span style="color:#000">HOME</span><span style="color:#ce5c00;font-weight:bold">=</span>/root
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Start a bash session in the Pod’s container:</span>
</span></span><span style="display:flex;"><span> <span style="color:#8f5902;font-style:italic">## name of the container can be omitted if we only have a single container in the Pod</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>kubectl <span style="color:#204a87">exec</span> -ti <span style="color:#000">$POD_NAME</span> bash
</span></span></code></pre></div>
</div>



    
	
  



          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="td-footer__left col-6 col-sm-4 order-sm-1">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="User mailing list" aria-label="User mailing list">
    <a target="_blank" rel="noopener" href="https://example.org/mail" aria-label="User mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Twitter" aria-label="Twitter">
    <a target="_blank" rel="noopener" href="https://example.org/twitter" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Stack Overflow" aria-label="Stack Overflow">
    <a target="_blank" rel="noopener" href="https://example.org/stack" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__right col-6 col-sm-4 order-sm-3">
        <ul class="td-footer__links-list">
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="GitHub" aria-label="GitHub">
    <a target="_blank" rel="noopener" href="https://sriram-yeluri.github.io" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Slack" aria-label="Slack">
    <a target="_blank" rel="noopener" href="https://example.org/slack" aria-label="Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="td-footer__links-item" data-bs-toggle="tooltip" title="Developer mailing list" aria-label="Developer mailing list">
    <a target="_blank" rel="noopener" href="https://example.org/mail" aria-label="Developer mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

      </div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2">
        <span class="td-footer__copyright">&copy;
    2018&ndash;2024
    <span class="td-footer__authors">Sriram Yeluri |</span></span><span class="td-footer__all_rights_reserved">All Rights Reserved</span><span class="ms-2"><a href="https://policies.google.com/privacy" target="_blank" rel="noopener">Privacy Policy</a></span>
      </div>
    </div>
  </div>
</footer>

    </div>
    <script src="/js/main.js"></script>
<script defer src="/js/click-to-copy.js" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>
